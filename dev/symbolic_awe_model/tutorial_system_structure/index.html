<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · SymbolicAWEModels.jl</title><meta name="title" content="Tutorial · SymbolicAWEModels.jl"/><meta property="og:title" content="Tutorial · SymbolicAWEModels.jl"/><meta property="twitter:title" content="Tutorial · SymbolicAWEModels.jl"/><meta name="description" content="Documentation for SymbolicAWEModels.jl."/><meta property="og:description" content="Documentation for SymbolicAWEModels.jl."/><meta property="twitter:description" content="Documentation for SymbolicAWEModels.jl."/><meta property="og:url" content="https://OpenSourceAWE.github.io/SymbolicAWEModels.jl/symbolic_awe_model/tutorial_system_structure/"/><meta property="twitter:url" content="https://OpenSourceAWE.github.io/SymbolicAWEModels.jl/symbolic_awe_model/tutorial_system_structure/"/><link rel="canonical" href="https://OpenSourceAWE.github.io/SymbolicAWEModels.jl/symbolic_awe_model/tutorial_system_structure/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SymbolicAWEModels.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SymbolicAWEModels.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../types/">Types</a></li><li><a class="tocitem" href="../../functions/">Functions</a></li><li><span class="tocitem">SymbolicAWEModel</span><ul><li><a class="tocitem" href="../ram_air_kite/">Overview</a></li><li><a class="tocitem" href="../examples_ram_air/">Examples</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Precondition"><span>Precondition</span></a></li><li><a class="tocitem" href="#Creating-a-simple-tether"><span>Creating a simple tether</span></a></li><li class="toplevel"><a class="tocitem" href="#Using-a-winch-and-a-tether"><span>Using a winch and a tether</span></a></li><li class="toplevel"><a class="tocitem" href="#Using-a-pulley"><span>Using a pulley</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../parameters/">Parameters</a></li><li><a class="tocitem" href="../../quickstart/">Quickstart</a></li><li><a class="tocitem" href="../../advanced/">Advanced usage</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">SymbolicAWEModel</a></li><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OpenSourceAWE/SymbolicAWEModels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OpenSourceAWE/SymbolicAWEModels.jl/blob/main/docs/src/symbolic_awe_model/tutorial_system_structure.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Custom-SystemStructure-and-SymbolicAWESystem"><a class="docs-heading-anchor" href="#Custom-SystemStructure-and-SymbolicAWESystem">Custom SystemStructure and SymbolicAWESystem</a><a id="Custom-SystemStructure-and-SymbolicAWESystem-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-SystemStructure-and-SymbolicAWESystem" title="Permalink"></a></h1><p>A custom <code>SystemStructure</code> can be used to create models of kite power systems of almost any configuration.</p><ul><li>custom amount of tethers</li><li>custom bridle configurations</li><li>quasi-static or dynamic point masses</li><li>different amounts of stiffness, damping and diameter on different tether segments</li></ul><h2 id="Precondition"><a class="docs-heading-anchor" href="#Precondition">Precondition</a><a id="Precondition-1"></a><a class="docs-heading-anchor-permalink" href="#Precondition" title="Permalink"></a></h2><p>First, following the <a href="../../quickstart/#Quickstart">Quickstart</a> section up to the installation of the examples. Make sure that at least <code>SymbolicAWEModels</code> version 0.8 is installed by typing <code>using Pkg; Pkg.status()</code>. To start Julia, either use <code>julia --project</code>, or <code>./bin/run_julia</code>.</p><h2 id="Creating-a-simple-tether"><a class="docs-heading-anchor" href="#Creating-a-simple-tether">Creating a simple tether</a><a id="Creating-a-simple-tether-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-simple-tether" title="Permalink"></a></h2><p>We start by loading the necessary packages and defining settings and parameters.</p><pre><code class="language-julia hljs">using SymbolicAWEModels, VortexStepMethod, ControlPlots

set = Settings(&quot;system_ram.yaml&quot;)
set.segments = 20
set.l_tether = 50.0
dynamics_type = DYNAMIC</code></pre><p>Then, we define vectors of the system structure types we are going to use. For this simple example we only need points and segments.</p><pre><code class="language-julia hljs">points = Point[]
segments = Segment[]

points = push!(points, Point(1, zeros(3), STATIC; wing_idx=0))</code></pre><p>The first point we add is a static point. There are four different <a href="../ram_air_kite/#SymbolicAWEModels.DynamicsType"><code>DynamicsType</code></a>s to choose from: <code>STATIC</code>, <code>QUASI_STATIC</code>, <code>DYNAMIC</code> and <code>WING</code>. <code>STATIC</code> just means that the point doesn&#39;t move. <code>DYNAMIC</code> is a point modeled with acceleration, while <code>QUASI_STATIC</code> constrains this acceleration to be zero at all times. A <code>WING</code> point is connected to a wing body.</p><p>Now we can add <code>DYNAMIC</code> points and connect them to each other with segments. <code>BRIDLE</code> segments don&#39;t need to have a tether, because they have a constant unstretched length.</p><pre><code class="language-julia hljs">segment_idxs = Int[]
for i in 1:set.segments
    global points, segments
    point_idx = i+1
    pos = [0.0, 0.0, i * set.l_tether / set.segments]
    if i &lt; set.segments
        push!(points, Point(point_idx, pos, dynamics_type; wing_idx=0))
    else
        push!(points, Point(point_idx, pos, dynamics_type; mass=1.0, wing_idx=0))
    end
    segment_idx = i
    push!(segments, Segment(segment_idx, (point_idx-1, point_idx), BRIDLE))
    push!(segment_idxs, segment_idx)
end</code></pre><p>In order to describe the initial orientation of the structure, we define a <a href="../ram_air_kite/#SymbolicAWEModels.Transform-NTuple{4, Any}"><code>Transform(idx, elevation, azimuth, heading)</code></a> with an elevation (-80 degrees), azimuth and heading, and a base position <code>[0.0, 0.0, 50.0]</code>.</p><pre><code class="language-julia hljs">transforms = [Transform(1, deg2rad(-80), 0.0, 0.0; 
              base_pos = [0.0, 0.0, 50.0], base_point_idx=points[1].idx,
              rot_point_idx=points[end].idx)]</code></pre><p>From the points, segments and transform we create a <a href="../ram_air_kite/#SymbolicAWEModels.SystemStructure-Tuple{Any, Any}"><code>SystemStructure(name, set)</code></a>, which can be plotted in 2d to quickly investigate if the model is correct.</p><pre><code class="language-julia hljs">sys_struct = SystemStructure(&quot;tether&quot;, set; points, segments, transforms)
plot(sys_struct, 0.0)</code></pre><p><img src="../tether_sys_struct.png" alt="SystemStructure visualization"/></p><p>If the system looks good, we can easily model it, by first creating a <a href="../../types/#SymbolicAWEModels.SymbolicAWEModel"><code>SymbolicAWEModel</code></a>, initializing it and stepping through time.</p><pre><code class="language-julia hljs">sam = SymbolicAWEModel(set, sys_struct)

init_sim!(sam; remake=false)
for i in 1:80
    plot(sam, i/set.sample_freq)
    next_step!(sam)
end</code></pre><p><img src="../tether_during_sim.png" alt="Tether during simulation"/></p><h1 id="Using-a-winch-and-a-tether"><a class="docs-heading-anchor" href="#Using-a-winch-and-a-tether">Using a winch and a tether</a><a id="Using-a-winch-and-a-tether-1"></a><a class="docs-heading-anchor-permalink" href="#Using-a-winch-and-a-tether" title="Permalink"></a></h1><p>Let&#39;s try to adjust the length of the tether in the last example. To do this we first need to create a set of segments with a common changing <code>l0</code>, called a <a href="../../#Tether"><code>Tether</code></a>.</p><pre><code class="language-julia hljs">set.v_wind = 0.0
tethers = [Tether(1,[segment.idx for segment in segments])]</code></pre><p>As you can see, we just add all of the segments from the simple tether to our <a href="../../#Tether"><code>Tether</code></a> struct. The next step is to create a winch. Each winch can be connected to one or more tethers, so it is possible to connect multiple tethers to the same winch. We have to specify which kind of winch we want to use. For now, only the <code>TorqueControlledMachine</code> from <code>WinchModels.jl</code> is supported.</p><pre><code class="language-julia hljs">using WinchModels
wm = TorqueControlledMachine(set)
winches = [Winch(1, wm, [1])]</code></pre><p>The 2d plot of the <a href="../ram_air_kite/#SymbolicAWEModels.SystemStructure"><code>SystemStructure</code></a> should still look the same, so we don&#39;t have to plot that. We can just create the system, and simulate it. We just need to be sure that we call plot with <code>t=0.0</code> to reset the plot.</p><pre><code class="language-julia hljs">sys_struct = SystemStructure(&quot;winch&quot;, set; points, segments, tethers, winches, transforms)
@show set.v_wind
sam = SymbolicAWEModel(set, sys_struct)
init_sim!(sam; remake=false)
ss = SysState(sam)

for i in 1:80
    plot(sam, (i-1)/set.sample_freq)
    next_step!(sam; set_values=[-20.0])
    update_sys_state!(ss, sam)
end
@show ss.l_tether[1]</code></pre><h1 id="Using-a-pulley"><a class="docs-heading-anchor" href="#Using-a-pulley">Using a pulley</a><a id="Using-a-pulley-1"></a><a class="docs-heading-anchor-permalink" href="#Using-a-pulley" title="Permalink"></a></h1><p>First, we need to update some settings. <code>l_tether</code> is specified such that the plot window is zoomed in correctly.</p><pre><code class="language-julia hljs">using SymbolicAWEModels, VortexStepMethod, ControlPlots

set = se(&quot;system_ram.yaml&quot;)
set.v_wind = 10.0
set.l_tether = 5.0
set.abs_tol = 1e-4
set.rel_tol = 1e-4
dynamics_type = DYNAMIC</code></pre><p>Now we create points and segments in a similar manner as in the last example. The <code>mass</code> keyword can be used to specify the mass of the point itself. When <code>mass=0.0</code> the mass of the point just consists of the tether/segment mass.</p><pre><code class="language-julia hljs">points = Point[]
segments = Segment[]
pulleys = Pulley[]

push!(points, Point(1, [0.0, 0.0, 2.0], STATIC))
push!(points, Point(2, [2.0, 0.0, 2.0], STATIC))
push!(points, Point(3, [0.1, 0.0, 1.0], DYNAMIC))
push!(points, Point(4, [0.1, 0.0, 0.0], DYNAMIC; mass=0.1))

push!(segments, Segment(1, (3,1), BRIDLE))
push!(segments, Segment(2, (3,2), BRIDLE))
push!(segments, Segment(3, (3,4), BRIDLE))</code></pre><p>Pulleys can be modeled when three or more <a href="../ram_air_kite/#SymbolicAWEModels.Segment"><code>Segment</code></a>s are connected to a common <a href="../ram_air_kite/#SymbolicAWEModels.Point"><code>Point</code></a>. When creating a pulley, only two segments are specified: these are the segments of the tether moving through the pulley.</p><pre><code class="language-julia hljs">push!(pulleys, Pulley(1, (1,2), DYNAMIC))</code></pre><p>We can then use a <a href="../ram_air_kite/#SymbolicAWEModels.Transform"><code>Transform</code></a> to describe the orientation of the initial system. </p><pre><code class="language-julia hljs">transforms = [Transform(1, -deg2rad(0.0), 0.0, 0.0; base_pos=[1.0, 0.0, 4.0], base_point_idx=1, rot_point_idx=2)]
sys_struct = SymbolicAWEModels.SystemStructure(&quot;pulley&quot;, set; points, segments, pulleys, transforms)
plot(sys_struct, 0.0; zoom=false, l_tether=set.l_tether)</code></pre><p>If the plot of the <a href="../ram_air_kite/#SymbolicAWEModels.SystemStructure"><code>SystemStructure</code></a> looks good, we can continue by creating a <a href="../../types/#SymbolicAWEModels.SymbolicAWEModel"><code>SymbolicAWEModel</code></a> and simulating through time.</p><pre><code class="language-julia hljs">sam = SymbolicAWEModel(set, sys_struct)
init_sim!(sam; remake=false)
for i in 1:100
    plot(sam, i/set.sample_freq; zoom=false)
    next_step!(sam)
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples_ram_air/">« Examples</a><a class="docs-footer-nextpage" href="../../parameters/">Parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 30 June 2025 13:51">Monday 30 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
